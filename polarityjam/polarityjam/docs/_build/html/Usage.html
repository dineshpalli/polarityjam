<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; polarityjam  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Features" href="Features.html" />
    <link rel="prev" title="Installation" href="Installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> polarityjam
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whatis.html">What is polarityjam?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#run-options">Run options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arguments">Arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameter-file">Parameter file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#key-file">Key file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#webb-app">Webb app</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visualizations.html">Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="Methods.html">Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="index/modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Contribute.html">Contribute</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">polarityjam</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h1>
<section id="run-options">
<h2>Run options<a class="headerlink" href="#run-options" title="Permalink to this heading"></a></h2>
<p>To start the extraction feature extraction process make sure you followed the manual installation
procedure. Then run polarityjam on the comandline to look at the available run modes.
There are 3 options to start a feature extraction process run, run_stack, and run_key which
are summarized in the table below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 31%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>mode</p></th>
<th class="head"><p>arguments</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>run</p></td>
<td><ul class="simple">
<li><p>paramfile.yml</p></li>
<li><p>input.tif</p></li>
<li><p>outputpath</p></li>
</ul>
</td>
<td><p>Should be used when a single image needs to be processed.</p></td>
</tr>
<tr class="row-odd"><td><p>run_stack</p></td>
<td><ul class="simple">
<li><p>paramfile.yml</p></li>
<li><p>inputpath</p></li>
<li><p>outputpath</p></li>
</ul>
</td>
<td><p>Should be used when a set of images in a folder needs to be processed</p></td>
</tr>
<tr class="row-even"><td><p>run_key</p></td>
<td><ul class="simple">
<li><p>paramfile.yml</p></li>
<li><p>inputpath</p></li>
<li><p>inputkey.csv</p></li>
<li><p>outputpath</p></li>
</ul>
</td>
<td><p>Should be used when the images that needs to be processed have a complex folder structure with many subfolders that need to be excluded from the analysis</p></td>
</tr>
</tbody>
</table>
</section>
<section id="arguments">
<h2>Arguments<a class="headerlink" href="#arguments" title="Permalink to this heading"></a></h2>
<section id="parameter-file">
<h3>Parameter file<a class="headerlink" href="#parameter-file" title="Permalink to this heading"></a></h3>
<p>Most important argument to provide for all modes is the <cite>parmeter.yml</cite> file. In this file in the yml format all options
can be specified how the feature extraction pipeline shout treat the data and what extraction steps to perform.
The following table lists all options that are available for executing the pipeline:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 4%" />
<col style="width: 8%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>category</p></th>
<th class="head"><p>options</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>channel_expression_marker</p></td>
<td><p>input</p></td>
<td><p>-1,0,1,2</p></td>
<td><p>Specifies which channel in the input image(s) holds information about the expression marker. -1 to indicate there is no channel.</p></td>
</tr>
<tr class="row-odd"><td><p>channel_organelle</p></td>
<td><p>input</p></td>
<td><p>-1,0,1,2</p></td>
<td><p>Specifies which channel in the input image(s) holds information about the organelle (e.g golgi apparatus). -1 to indicate there is no channel.</p></td>
</tr>
<tr class="row-even"><td><p>channel_junction</p></td>
<td><p>input</p></td>
<td><p>-1,0,1,2</p></td>
<td><p>Specifies which channel in the input image(s) holds information about the junction signals. -1 to indicate there is no channel.</p></td>
</tr>
<tr class="row-odd"><td><p>channel_nucleus</p></td>
<td><p>input</p></td>
<td><p>-1,0,1,2</p></td>
<td><p>Specifies which channel in the input image(s) holds information about the nucleus. -1 to indicate there is no channel.</p></td>
</tr>
<tr class="row-even"><td><p>clear_border</p></td>
<td><p>analysis</p></td>
<td><p>true, false</p></td>
<td><p>If true, removes any segmentation that is not complete because the cell protrude beyond the edge of the image.</p></td>
</tr>
<tr class="row-odd"><td><p>estimated_cell_diameter</p></td>
<td><p>analysis</p></td>
<td><p>integer</p></td>
<td><p>The estimated cell diameter of the cells in your input image(s). Default 100.</p></td>
</tr>
<tr class="row-even"><td><p>feature_of_interest</p></td>
<td><p>analysis</p></td>
<td><p>area</p></td>
<td><p>Name of the feature for which a neighborhood statistics should be calculated. Any feature can be used here. Look at [the output section](#fep_out) to see all available options .</p></td>
</tr>
<tr class="row-odd"><td><p>manually_annotated_mask</p></td>
<td><p>analysis</p></td>
<td><p>string</p></td>
<td><p>Polarityjam looks for an available segmentation in the input path. This parameter specifies the suffix for manually annotated masks. Usually “_seg.npy” (cellpose default). Leave empty to use default.</p></td>
</tr>
<tr class="row-even"><td><p>membrane_thickness</p></td>
<td><p>analysis</p></td>
<td><p>5</p></td>
<td><p>Expected membrane thickness.</p></td>
</tr>
<tr class="row-odd"><td><p>min_cell_size</p></td>
<td><p>analysis</p></td>
<td><p>50</p></td>
<td><p>Minimal expected cell size in pixel. Threshold value for the analysis. Cells with a smaller value will be excluded from the analysis.</p></td>
</tr>
<tr class="row-even"><td><p>min_organelle_size</p></td>
<td><p>analysis</p></td>
<td><p>10</p></td>
<td><p>The minimal diameter of the organelle. Threshold value for the analysis. Cells with an organelle with a smaller value will be excluded from the analysis.</p></td>
</tr>
<tr class="row-odd"><td><p>min_nucleus_size</p></td>
<td><p>analysis</p></td>
<td><p>10</p></td>
<td><p>The minimal diameter of the nucleus size. Threshold value for the analysis. Cells with a nucleus with a smaller value will be excluded from the analysis.</p></td>
</tr>
<tr class="row-even"><td><p>use_given_mask</p></td>
<td><p>analysis</p></td>
<td><p>true, false</p></td>
<td><p>Indicated whether to use the masks in the input path (if any) or not. Default is true.</p></td>
</tr>
<tr class="row-odd"><td><p>use_gpu</p></td>
<td><p>analysis</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to use the GPU for faster segmentation. Default is false.</p></td>
</tr>
<tr class="row-even"><td><p>graphics_output_format</p></td>
<td><p>plot</p></td>
<td><p>png, pdf, svg, tif</p></td>
<td><p>The output format of the plot figures. Several can be specified. Default is png and pdf.</p></td>
</tr>
<tr class="row-odd"><td><p>graphics_width</p></td>
<td><p>plot</p></td>
<td><p>integer</p></td>
<td><p>The width of the output plot figures. Default 5.</p></td>
</tr>
<tr class="row-even"><td><p>dpi</p></td>
<td><p>plot</p></td>
<td><p>integer</p></td>
<td><p>Resolution of the plots. Specifies the dots per inch. Default is 300.</p></td>
</tr>
<tr class="row-odd"><td><p>graphics_height</p></td>
<td><p>plot</p></td>
<td><p>integer</p></td>
<td><p>The width of the output plot figures. Default 5.</p></td>
</tr>
<tr class="row-even"><td><p>outline_width</p></td>
<td><p>plot</p></td>
<td><p>integer</p></td>
<td><p>Outline width of a cell. Default 2.</p></td>
</tr>
<tr class="row-odd"><td><p>plot_alignment</p></td>
<td><p>plot</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to perform the alignment plot.</p></td>
</tr>
<tr class="row-even"><td><p>plot_marker</p></td>
<td><p>plot</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to perform the marker polarity plot.</p></td>
</tr>
<tr class="row-odd"><td><p>plot_organelle_polarity</p></td>
<td><p>plot</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to perform the organelle polarity plot.</p></td>
</tr>
<tr class="row-even"><td><p>plot_junctions</p></td>
<td><p>plot</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to perform the junction polarity plot.</p></td>
</tr>
<tr class="row-odd"><td><p>show_polarity_angles</p></td>
<td><p>plot</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to additionally add the polarity angles to the polarity plots.</p></td>
</tr>
<tr class="row-even"><td><p>plot_ratio_method</p></td>
<td><p>plot</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to perform the ratio plot.</p></td>
</tr>
<tr class="row-odd"><td><p>plot_cyclic_orientation</p></td>
<td><p>plot</p></td>
<td><p>true, false</p></td>
<td><p>Indicates whether to perform the cyclic orientation plot.</p></td>
</tr>
<tr class="row-even"><td><p>store_segmentation</p></td>
<td><p>output</p></td>
<td><p>true, false</p></td>
<td><p>If true, stores the cellpose segmentation masks in the input path (CAUTION: not in the output path!).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="key-file">
<h3>Key file<a class="headerlink" href="#key-file" title="Permalink to this heading"></a></h3>
<p>Often, analysts are challenged not only with the problem of actually performing the analysis,
but also how and where to store the data. Iterative acquisition of images as well as various
experimental settings sometimes require complex folder structures and naming schema to organize data.
Frequently, researchers phase the problem of data being distributed over several physical devices,
leaving them with the problem of how to execute a certain tool on a dedicated subset of images.
Not often a high amount of time is necessary before the analysis is finally performed.
Moreover, performing analysis steps on several experimental conditions often requires repeating the
whole pipeline several times to get the desired output. To tackle this problem,
polarityjam offers the execution option run_key that accepts a csv file describing the storage
structures and conditions. To still be able to migrate the data without altering the csv,
paths are relative to a given root folder (e.g. inputpath).</p>
<p>The structure of the csv is given as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>folder_name</p></th>
<th class="head"><p>short_name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>set_1</p></td>
<td><p>cond_1</p></td>
</tr>
<tr class="row-odd"><td><p>set_2</p></td>
<td><p>cond_2</p></td>
</tr>
</tbody>
</table>
<p>Folder structure will also be created in the provided output path. Specify a short_name different to the folder_name to rename each folder. (e.g. folder set_1 will be named cond_1 in the output path)</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using OS specific paths here might hurt reproducibility! (e.g. windows paths are different than unix paths!)</p>
</div>
</section>
</section>
<section id="webb-app">
<h2>Webb app<a class="headerlink" href="#webb-app" title="Permalink to this heading"></a></h2>
<p>The R-shiny web app further analyses the results of the feature extraction process in the browser.
There are several statistics available which parameters can be adapted during runtime to immediately
observe the change in the corresponding visualization. Thus, Exploring the data and relieving
interesting patterns is heavily facilitated. To get to know more about the statics jump to circular
statistics and continue reading or visit the method section.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Features.html" class="btn btn-neutral float-right" title="Features" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jan Philipp Albrecht, Wolfgang Giese.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>